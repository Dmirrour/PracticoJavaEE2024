<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
    <title>Fact Check</title>
</h:head>
<h:body>
    <h:form>
        <h:panelGrid columns="2">
            <h:outputLabel value="Búsqueda:" />
            <h:inputText value="#{claimBean.query}" />
            <p:commandButton value="Buscar" action="#{claimBean.buscarHechos}" update="claimsTable" />
        </h:panelGrid>

        <p:dataTable id="claimsTable" value="#{claimBean.claimsResponse.claims}" var="claim">
            <p:column headerText="Texto">
                <h:outputText value="#{claim.text}" />
            </p:column>
            <p:column headerText="Revisión">
                <ui:repeat value="#{claim.claimReview}" var="review">
                    <h:outputText value="#{review.title}" />
                    <br/>
                    <h:outputLink value="#{review.url}" target="_blank">
                        <h:outputText value="#{review.publisher.name}" />
                    </h:outputLink>
                    <br/>
                    <h:outputText value="Calificación: #{review.textualRating}" />
                </ui:repeat>
            </p:column>
        </p:dataTable>

        <p:commandButton value="Siguiente" action="#{claimBean.siguientePagina}" update="claimsTable" />
    </h:form>
</h:body>
</html>
